/* app/globals.css */

/* Load Tailwind */
@import "tailwindcss";

/* Make Tailwind's `dark:` variant follow data-theme="dark" */
@custom-variant dark (&:where(.dark, .dark *));

/* ===========================
   BRAND FONTS (local)
   =========================== */

@font-face {
  font-family: "Tiempos Fine";
  src: url("/fonts/Tiempos-Fine/tiempos-fine-regular.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Tiempos Fine";
  src: url("/fonts/Tiempos-Fine/tiempos-fine-semibold.otf") format("opentype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Montserrat";
  src: url("/fonts/Montserrat/Montserrat-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Montserrat";
  src: url("/fonts/Montserrat/Montserrat-Medium.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Montserrat";
  src: url("/fonts/Montserrat/Montserrat-SemiBold.ttf") format("truetype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Montserrat";
  src: url("/fonts/Montserrat/Montserrat-Bold.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* ===========================
   TAILWIND THEME TOKENS
   =========================== */

@theme {
  --color-tl-black: #000000;
  --color-tl-brown: #624315;
  --color-tl-gold: #ffe898;

  --color-brand-bg: var(--color-tl-black);
  --color-brand-primary: var(--color-tl-brown);
  --color-brand-accent: var(--color-tl-gold);

  /* Tailwind font tokens */
  --font-sans: "Montserrat", system-ui, -apple-system, sans-serif;
  --font-serif: "Tiempos Fine", ui-serif, Georgia, serif;

  /* Optional aliases */
  --font-tl-display: var(--font-serif);
  --font-tl-sans: var(--font-sans);
}

/* ===========================
   THEME TOKENS (LIGHT / DARK)
   =========================== */

/* Default: light theme */
:root {
  color-scheme: light;
  --background: #f9f5ee; /* parchment */
  --foreground: #111111;
  --surface: #ffffff;
  --surface-muted: #f1e6d6;
  --border-subtle: rgba(0, 0, 0, 0.06);
}

/* Explicit light theme (data-theme="light") */
:root[data-theme="light"] {
  color-scheme: light;
  --background: #f9f5ee;
  --foreground: #111111;
  --surface: #ffffff;
  --surface-muted: #f1e6d6;
  --border-subtle: rgba(0, 0, 0, 0.06);
}

/* Dark theme (data-theme="dark") */
:root[data-theme="dark"] {
  color-scheme: dark;
  --background: var(--color-tl-black);
  --foreground: #ffffff;
  --surface: #050505;
  --surface-muted: #17130d;
  --border-subtle: rgba(255, 255, 255, 0.08);
}

/* ===========================
   GLOBAL RESET / BASE
   =========================== */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

/* ===========================
   TYPOGRAPHY SYSTEM
   =========================== */

@layer base {
  :root {
    /* Montserrat (body + UI) */
    --body-leading: 1.65;
    --body-tracking: -0.01em;

    /* Tiempos Fine (display) */
    --display-tracking: -0.02em;
  }

  html {
    text-rendering: geometricPrecision;
  }

  body {
    margin: 0;
    background: var(--background);
    color: var(--foreground);

    /* Default font family = Montserrat via Tailwind token */
    font-family: var(--font-sans);

    /* Font feel fixes */
    line-height: var(--body-leading);
    letter-spacing: var(--body-tracking);
    font-kerning: normal;
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
  }

  /* Headings = Tiempos Fine */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-serif);
    letter-spacing: var(--display-tracking);
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
  }

  /* Display serif needs tighter leading at large sizes */
  h1 {
    line-height: 1.02;
  }
  h2 {
    line-height: 1.08;
  }
  h3 {
    line-height: 1.12;
  }
  h4 {
    line-height: 1.18;
  }

  /* Small UI text: keep tracking neutral so it stays crisp */
  small,
  .text-xs,
  .text-sm {
    letter-spacing: 0em;
  }
}

/* ===========================
   OPTIONAL HELPERS
   =========================== */

.bg-app {
  background-color: var(--background);
}

.text-app {
  color: var(--foreground);
}

/* Utility class for all-caps labels in Montserrat */
.caps {
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
